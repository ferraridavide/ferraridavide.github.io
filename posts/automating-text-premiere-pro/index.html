<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Using Python to automate text overlays in Premiere Pro | Davide Ferrari</title>
<meta name=keywords content="python,automation,premiere pro,video editing"><meta name=description content="Recently, I embarked on a weekend project to create a video compilation of all the intros from the tech show TechLinked (which you can check out here). I figured it wouldn&rsquo;t be too hard and I wouldn&rsquo;t need to write any code, but as it turned out, I ended up having to resort to some Python to get the job done.
I had my Premiere Pro sequence all set up with all the intros chopped up and ready to go, but when I wanted to add text displaying the name and date of the current clip, I couldn&rsquo;t figure out how to do it in Premiere Pro."><meta name=author content><link rel=canonical href=https://ferraridavide.github.io/posts/automating-text-premiere-pro/><link crossorigin=anonymous href=/assets/css/stylesheet.bc1149f4a72aa4858d3a9f71462f75e5884ffe8073ea9d6d5761d5663d651e20.css integrity="sha256-vBFJ9KcqpIWNOp9xRi915YhP/oBz6p1tV2HVZj1lHiA=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://ferraridavide.github.io/favicon.png><link rel=icon type=image/png sizes=16x16 href=https://ferraridavide.github.io/favicon16.png><link rel=icon type=image/png sizes=32x32 href=https://ferraridavide.github.io/favicon32.png><link rel=apple-touch-icon href=https://ferraridavide.github.io/clipimage.png><link rel=mask-icon href=https://ferraridavide.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Using Python to automate text overlays in Premiere Pro"><meta property="og:description" content="Recently, I embarked on a weekend project to create a video compilation of all the intros from the tech show TechLinked (which you can check out here). I figured it wouldn&rsquo;t be too hard and I wouldn&rsquo;t need to write any code, but as it turned out, I ended up having to resort to some Python to get the job done.
I had my Premiere Pro sequence all set up with all the intros chopped up and ready to go, but when I wanted to add text displaying the name and date of the current clip, I couldn&rsquo;t figure out how to do it in Premiere Pro."><meta property="og:type" content="article"><meta property="og:url" content="https://ferraridavide.github.io/posts/automating-text-premiere-pro/"><meta property="og:image" content="https://avatars.githubusercontent.com/u/23432883"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-01-02T11:58:50+00:00"><meta property="article:modified_time" content="2023-01-02T11:58:50+00:00"><meta property="og:site_name" content="Davide Ferrari"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://avatars.githubusercontent.com/u/23432883"><meta name=twitter:title content="Using Python to automate text overlays in Premiere Pro"><meta name=twitter:description content="Recently, I embarked on a weekend project to create a video compilation of all the intros from the tech show TechLinked (which you can check out here). I figured it wouldn&rsquo;t be too hard and I wouldn&rsquo;t need to write any code, but as it turned out, I ended up having to resort to some Python to get the job done.
I had my Premiere Pro sequence all set up with all the intros chopped up and ready to go, but when I wanted to add text displaying the name and date of the current clip, I couldn&rsquo;t figure out how to do it in Premiere Pro."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://ferraridavide.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Using Python to automate text overlays in Premiere Pro","item":"https://ferraridavide.github.io/posts/automating-text-premiere-pro/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Using Python to automate text overlays in Premiere Pro","name":"Using Python to automate text overlays in Premiere Pro","description":"Recently, I embarked on a weekend project to create a video compilation of all the intros from the tech show TechLinked (which you can check out here). I figured it wouldn\u0026rsquo;t be too hard and I wouldn\u0026rsquo;t need to write any code, but as it turned out, I ended up having to resort to some Python to get the job done.\nI had my Premiere Pro sequence all set up with all the intros chopped up and ready to go, but when I wanted to add text displaying the name and date of the current clip, I couldn\u0026rsquo;t figure out how to do it in Premiere Pro.","keywords":["python","automation","premiere pro","video editing"],"articleBody":"Recently, I embarked on a weekend project to create a video compilation of all the intros from the tech show TechLinked (which you can check out here). I figured it wouldn’t be too hard and I wouldn’t need to write any code, but as it turned out, I ended up having to resort to some Python to get the job done.\nI had my Premiere Pro sequence all set up with all the intros chopped up and ready to go, but when I wanted to add text displaying the name and date of the current clip, I couldn’t figure out how to do it in Premiere Pro. I was looking for something similar to After Effects’ expressions, but unfortunately, this feature is not present in Premiere Pro. I tried everything I could think of, but nada.\nThat’s when I had to turn to Python to get the job done. In this blog post, I’ll show you how I used Python and Premiere Pro’s EDL export feature to make it all happen. This method allows you to quickly and easily add subtitles or captions to your video, without having to manually add them frame by frame.\nHere’s what we’ll do, we’re going to use Premiere Pro’s EDL export feature to get a text file with all the necessary information about the cuts in our sequence. Then, we’ll use Python to convert that EDL file into an SRT file, a format that Premiere Pro can import as subtitles. If you’re unfamiliar with EDL, don’t worry – I didn’t know what it was before this either. It looks something like this:\nTITLE: [name of the exported sequence] FCM: NON-DROP FRAME 001 AX AA/V C 00:00:00:00 00:00:08:04 00:00:00:00 00:00:08:04 * FROM CLIP NAME: 2022-01-01 [b_s9oeQsNfw].mp4 * AUDIO LEVEL AT 00:00:00:00 IS -0.00 DB (REEL AX A1) * AUDIO LEVEL AT 00:00:00:00 IS -0.00 DB (REEL AX A2) 002 AX AA/V C 00:00:00:00 00:00:11:20 00:00:08:04 00:00:19:24 * FROM CLIP NAME: 2022-01-04 [O8PdzoHyM98].mp4 * AUDIO LEVEL AT 00:00:00:00 IS -0.00 DB (REEL AX A1) * AUDIO LEVEL AT 00:00:00:00 IS -0.00 DB (REEL AX A2) As you can see, it contains information about the edits in the sequence, including the clip name, the start and end timecodes of the clip, and the start and end timecodes of the edit on the timeline.\nAlright, let’s get to the code!\nIn Premiere Pro, select the sequence you want to export then go to File \u003e Export \u003e EDL. A dialog will pop up, just press OK and save the EDL file.\nInstall the timecode, edl and srt libraries using pip install timecode edl srt and import them in your Python script\nLet’s use the edl library to parse the EDL file.\nparser=edl.Parser('29.97') # Set your sequence's frame rate here with open('file.edl') as edl_file: edl=parser.parse(edl_file) events = edl.events This will create a list of Event objects, each representing a single edit in the EDL file.\nIterate through the list of events and create a list of srt.Subtitle objects. By default, the clip_name is the file name of the clip. If you want to display something different in the SRT file, you can create a separate Python function that takes the file name as input and returns the desired text.\ntc = timecode.Timecode('29.97') def to_timedelta(time_code): t = tc.parse_timecode(str(time_code)) td = timedelta(hours=t[0], minutes=t[1], seconds=t[2], milliseconds=(t[3]/29.97)*1000) return timedelta(seconds=td.total_seconds()*1.001) def get_text(filename): # Returns the desired text based on the filename return filename subtitles = [] for index, event in enumerate(events, start=1): start_time = to_timedelta(event.rec_start_tc) end_time = to_timedelta(event.rec_end_tc) clip_name = get_text(event.clip_name) subtitles.append(srt.Subtitle(index, start_time, end_time, clip_name)) You may notice that in the to_timedelta function, I’m scaling the length of every clip by 1.001, this is a workaround I found as without this, the subtitles wouldn’t align properly in the timeline.\nUse the srt library to create the SRT file.\nwith open('subtitles.srt', 'w') as srt_file: srt.dump(subtitles, srt_file) And voila! You can now import the .srt file into Premiere Pro and drag in right into your timeline! It should look something like this:\n1 00:00:00,000 --\u003e 00:00:08,141 SSD go brrr 01 January 2022 2 00:00:08,141 --\u003e 00:00:19,820 We thought it wasn't possible... 04 January 2022 That’s it! In my case, every clip filename contained the TechLinked episode’s video ID, so i had my get_text function parse the ID using regular expressions, then call YouTube’s API to obtain the video title and upload date\nWhile this technique is particularly useful for adding automatic text overlays or subtitles, the possibilities don’t stop there. EDL files contain a wealth of information about the edits in your sequence, so you can use this information in many other ways. For example, you could use an EDL file to automatically create YouTube chapters based on the cuts in your sequence.\n","wordCount":"787","inLanguage":"en","datePublished":"2023-01-02T11:58:50Z","dateModified":"2023-01-02T11:58:50Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://ferraridavide.github.io/posts/automating-text-premiere-pro/"},"publisher":{"@type":"Organization","name":"Davide Ferrari","logo":{"@type":"ImageObject","url":"https://ferraridavide.github.io/favicon.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://ferraridavide.github.io/ accesskey=h title="Davide Ferrari (Alt + H)">Davide Ferrari</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://ferraridavide.github.io/posts title=Blog><span>Blog</span></a></li><li><a href=https://ferraridavide.github.io/archives title=Archive><span>Archive</span></a></li><li><a href=https://ferraridavide.github.io/skills/ title=Skills><span>Skills</span></a></li><li><a href=https://ferraridavide.github.io/static/davideferrari.asc title=PGP><span>PGP</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://ferraridavide.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://ferraridavide.github.io/posts/>Posts</a></div><h1 class=post-title>Using Python to automate text overlays in Premiere Pro</h1><div class=post-meta>&lt;span title='2023-01-02 11:58:50 +0000 UTC'>January 2, 2023&lt;/span></div></header><div class=post-content><p>Recently, I embarked on a weekend project to create a video compilation of all the intros from the tech show TechLinked (which you can <a href="https://www.youtube.com/watch?v=6gZ1TMZpnXw">check out here</a>). I figured it wouldn&rsquo;t be too hard and I wouldn&rsquo;t need to write any code, but as it turned out, I ended up having to resort to some Python to get the job done.</p><p>I had my Premiere Pro sequence all set up with all the intros chopped up and ready to go, but when I wanted to add text displaying the name and date of the current clip, I couldn&rsquo;t figure out how to do it in Premiere Pro. I was looking for something similar to After Effects&rsquo; expressions, but unfortunately, this feature is not present in Premiere Pro. I tried everything I could think of, but nada.</p><p>That&rsquo;s when I had to turn to Python to get the job done. In this blog post, I&rsquo;ll show you how I used Python and Premiere Pro&rsquo;s EDL export feature to make it all happen.
This method allows you to quickly and easily add subtitles or captions to your video, without having to manually add them frame by frame.</p><p>Here&rsquo;s what we&rsquo;ll do, we&rsquo;re going to use Premiere Pro&rsquo;s EDL export feature to get a text file with all the necessary information about the cuts in our sequence. Then, we&rsquo;ll use Python to convert that EDL file into an SRT file, a format that Premiere Pro can import as subtitles. If you&rsquo;re unfamiliar with EDL, don&rsquo;t worry – I didn&rsquo;t know what it was before this either. It looks something like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>TITLE: [name of the exported sequence]
</span></span><span style=display:flex><span>FCM: NON-DROP FRAME
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>001  AX       AA/V  C        00:00:00:00 00:00:08:04 00:00:00:00 00:00:08:04 
</span></span><span style=display:flex><span>* FROM CLIP NAME: 2022-01-01 [b_s9oeQsNfw].mp4
</span></span><span style=display:flex><span>* AUDIO LEVEL AT 00:00:00:00 IS -0.00 DB  (REEL AX A1)
</span></span><span style=display:flex><span>* AUDIO LEVEL AT 00:00:00:00 IS -0.00 DB  (REEL AX A2)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>002  AX       AA/V  C        00:00:00:00 00:00:11:20 00:00:08:04 00:00:19:24 
</span></span><span style=display:flex><span>* FROM CLIP NAME: 2022-01-04 [O8PdzoHyM98].mp4
</span></span><span style=display:flex><span>* AUDIO LEVEL AT 00:00:00:00 IS -0.00 DB  (REEL AX A1)
</span></span><span style=display:flex><span>* AUDIO LEVEL AT 00:00:00:00 IS -0.00 DB  (REEL AX A2)
</span></span></code></pre></div><p>As you can see, it contains information about the edits in the sequence, including the clip name, the start and end timecodes of the clip, and the start and end timecodes of the edit on the timeline.</p><p>Alright, let&rsquo;s get to the code!</p><ul><li><p>In Premiere Pro, select the sequence you want to export then go to File > Export > EDL. A dialog will pop up, just press OK and save the EDL file.</p></li><li><p>Install the <code>timecode</code>, <code>edl</code> and <code>srt</code> libraries using <code>pip install timecode edl srt</code> and import them in your Python script</p></li><li><p>Let&rsquo;s use the <code>edl</code> library to parse the EDL file.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>parser<span style=color:#f92672>=</span>edl<span style=color:#f92672>.</span>Parser(<span style=color:#e6db74>&#39;29.97&#39;</span>)  <span style=color:#75715e># Set your sequence&#39;s frame rate here</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>with</span> open(<span style=color:#e6db74>&#39;file.edl&#39;</span>) <span style=color:#66d9ef>as</span> edl_file:
</span></span><span style=display:flex><span>    edl<span style=color:#f92672>=</span>parser<span style=color:#f92672>.</span>parse(edl_file)
</span></span><span style=display:flex><span>    events <span style=color:#f92672>=</span> edl<span style=color:#f92672>.</span>events
</span></span></code></pre></div><p>This will create a list of <code>Event</code> objects, each representing a single edit in the EDL file.</p></li><li><p>Iterate through the list of events and create a list of <code>srt.Subtitle</code> objects. By default, the <code>clip_name</code> is the file name of the clip. If you want to display something different in the SRT file, you can create a separate Python function that takes the file name as input and returns the desired text.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>tc <span style=color:#f92672>=</span> timecode<span style=color:#f92672>.</span>Timecode(<span style=color:#e6db74>&#39;29.97&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>to_timedelta</span>(time_code):
</span></span><span style=display:flex><span>    t <span style=color:#f92672>=</span> tc<span style=color:#f92672>.</span>parse_timecode(str(time_code))
</span></span><span style=display:flex><span>    td <span style=color:#f92672>=</span> timedelta(hours<span style=color:#f92672>=</span>t[<span style=color:#ae81ff>0</span>], minutes<span style=color:#f92672>=</span>t[<span style=color:#ae81ff>1</span>], seconds<span style=color:#f92672>=</span>t[<span style=color:#ae81ff>2</span>], milliseconds<span style=color:#f92672>=</span>(t[<span style=color:#ae81ff>3</span>]<span style=color:#f92672>/</span><span style=color:#ae81ff>29.97</span>)<span style=color:#f92672>*</span><span style=color:#ae81ff>1000</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> timedelta(seconds<span style=color:#f92672>=</span>td<span style=color:#f92672>.</span>total_seconds()<span style=color:#f92672>*</span><span style=color:#ae81ff>1.001</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>get_text</span>(filename):
</span></span><span style=display:flex><span>    <span style=color:#75715e># Returns the desired text based on the filename</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> filename
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>subtitles <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> index, event <span style=color:#f92672>in</span> enumerate(events, start<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>):
</span></span><span style=display:flex><span>    start_time <span style=color:#f92672>=</span> to_timedelta(event<span style=color:#f92672>.</span>rec_start_tc)
</span></span><span style=display:flex><span>    end_time <span style=color:#f92672>=</span> to_timedelta(event<span style=color:#f92672>.</span>rec_end_tc)
</span></span><span style=display:flex><span>    clip_name <span style=color:#f92672>=</span> get_text(event<span style=color:#f92672>.</span>clip_name)
</span></span><span style=display:flex><span>    subtitles<span style=color:#f92672>.</span>append(srt<span style=color:#f92672>.</span>Subtitle(index, start_time, end_time, clip_name))
</span></span></code></pre></div><p>You may notice that in the <code>to_timedelta</code> function, I&rsquo;m scaling the length of every clip by 1.001, this is a workaround I found as without this, the subtitles wouldn&rsquo;t align properly in the timeline.</p></li><li><p>Use the <code>srt</code> library to create the SRT file.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>with</span> open(<span style=color:#e6db74>&#39;subtitles.srt&#39;</span>, <span style=color:#e6db74>&#39;w&#39;</span>) <span style=color:#66d9ef>as</span> srt_file:
</span></span><span style=display:flex><span>    srt<span style=color:#f92672>.</span>dump(subtitles, srt_file)
</span></span></code></pre></div></li><li><p>And voila! You can now import the .srt file into Premiere Pro and drag in right into your timeline!
It should look something like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>1
</span></span><span style=display:flex><span>00:00:00,000 --&gt; 00:00:08,141
</span></span><span style=display:flex><span>SSD go brrr
</span></span><span style=display:flex><span>01 January 2022
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>2
</span></span><span style=display:flex><span>00:00:08,141 --&gt; 00:00:19,820
</span></span><span style=display:flex><span>We thought it wasn&#39;t possible...
</span></span><span style=display:flex><span>04 January 2022
</span></span></code></pre></div></li></ul><p>That&rsquo;s it! In my case, every clip filename contained the TechLinked episode&rsquo;s video ID, so i had my <code>get_text</code> function parse the ID using regular expressions, then call YouTube&rsquo;s API to obtain the video title and upload date</p><p>While this technique is particularly useful for adding automatic text overlays or subtitles, the possibilities don&rsquo;t stop there. EDL files contain a wealth of information about the edits in your sequence, so you can use this information in many other ways. For example, you could use an EDL file to automatically create YouTube chapters based on the cuts in your sequence.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://ferraridavide.github.io/tags/python/>python</a></li><li><a href=https://ferraridavide.github.io/tags/automation/>automation</a></li><li><a href=https://ferraridavide.github.io/tags/premiere-pro/>premiere pro</a></li><li><a href=https://ferraridavide.github.io/tags/video-editing/>video editing</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://ferraridavide.github.io/>Davide Ferrari</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>